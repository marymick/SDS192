---
title: "SDS 192: Introduction to Data Science"
author: "Albert Y. Kim"
date: "Last updated on `r Sys.Date()`"
output:
  html_document:
    toc: true
    toc_depth: 2
    toc_float: true
    df_print: kable
---

<style>
h1{font-weight: 400;}
</style>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message=FALSE, warning = FALSE, eval=FALSE, 
                      fig.width = 16/2, fig.height = 9/2)
library(tidyverse)
library(stringr)
library(knitr)
library(lubridate)
library(forcats)
library(fivethirtyeight)
library(nycflights13)
library(gapminder)
library(babynames)
library(scales)
# devtools::install_github("hadley/emo")
library(emo)
library(moderndive)

# devtools::install_github("thomasp85/patchwork")
library(patchwork)
set.seed(76)
```
<style>
h1{font-weight: 400;}
</style>

***

# Schedule 

* **Topics**:
    1. Tools of the trade (orange): R, RStudio, R packages, R Markdown, Git & GitHub.
    1. Data visualization (pink): Grammar of Graphics, Five Named Graphs (5NG), color theory.
    1. Working with data (blue): Tidy data, data wrangling, data importing. 
    1. Maps and spatial data (green): Map and geospatial data.
    1. Learning how to learn new data science tools (yellow): Text data, webscraping, SQL.
* **Readings + Reference**: MD is ModernDive, MDSR is Modern Data Science with R, TMR is Text Mining with R. 

<iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRvggFhESyu_EFxrcFQXsZtdaQqaqcQ6kgWg173WTkTeWV67RWiZ01G8jhJsQ2b5VUVCJqQ8xo6COWM/pubhtml?gid=1373353942&si  ngle=true&amp;widget=true&amp;headers=false" width="100%" height="810"></iframe>



***


# Lec 5

## Announcements

* What my `scratchpad.R` looks like after Lec4. Yours shouldn't be *exactly* the same, but close.  
Note because I saved my work, `scratchpad.R` is written in black. If I had unsaved work, this would be written in red.  
![alt text](static/images/Lec4_scratchpad.png){ width=500px }
* Problem set 02 posted [below](#PS02).

## Today's Topics/Activities       

### 1. Chalk Talk

* What is overplotting?
* When do I use linegraphs instead of scatterplots?

### 2. In-class exercise: Comment lines

In the screen shot of my `scratchpad.R` above, any line that starts with a `#` are called *comment lines*. They are ignored by R when you run them in the console. Run both these lines in the console separately:

```{r, eval=FALSE, echo=TRUE}
this is a comment line that R ignores that helps readers (including you!) understand code

# this is a comment line that R ignores that helps readers (including you!) understand code
```

Why does one line return an `Error` whereas the other doesn't?


### 3. In-class exercise

As marked in the Schedule at the top of this page, read ModernDive 3.3.2 - 3.4 (start of Chapter 3.3.2 to the end of 3.4).


***



# Problem set 2 {#PS02}

*Assigned Monday 9/17, due Monday 9/24 at 9pm Eastern Time*

## 1. DataCamp

* Complete *only* the following two chapters from the "Introduction to the Tidyverse" course, which you should see in the following [link](https://www.datacamp.com/enterprise/2018-09-sds192-intro-to-data-science/assignments){target="_blank"}:
    * Chapter 1: "Data wrangling".
    * Chapter 2: "Data visualization"
    * Skip Chapters 3-4 on "Grouping and summarizing" and "Types of visualizations" for now.
* Note: DataCamp does things in a slightly order, data wrangling first then data visualization. ModernDive however does data visualization first in Chapter 3 then data wrangling in Chapter 5. Reading ModernDive Chapter 5 is not a pre-requisite for completing this problem set.
* See the [syllabus](syllabus.html#evaluation-expectations) for expectations on DataCamp assignments.
* If you have already completed the "Introduction to the Tidyverse" DataCamp course previously using a DataCamp account based on your Smith email, you do not need to re-do them; they will show up in my logs as completed.


## 2. R component

Read the following 538 article [Higher Rates Of Hate Crimes Are Tied To Income Inequality](https://fivethirtyeight.com/features/higher-rates-of-hate-crimes-are-tied-to-income-inequality/){target="_blank"}. You'll be analyzing the same data used to write this article. The data is in the `hate_crimes` dataframe, which is included in the `fivethirtyeight` R package. A larger goal of this problem set is to start practicing the "data analysis" workflow.

* Download the following R scratchpad: <a href="static/PS02_lastname_firstname.R" download>`PS02_lastname_firstname.R`</a> and rename it so that it matches your name. For example in my case: `PS02_Kim_Albert.R`.
* "Upload" this file to RStudio Server by going to RStudio -> Files panel -> Upload.
* Open `PS02_lastname_firstname.R` and follow the indicated steps. I *highly* recommend you copy and paste existing code from ModernDive and then tweak it to achieve your goal.
* When you are finished, check that your code is *reproducible and replicable*. Meaning if you were to send someone else this file and they ran the code, woult they get the same results as you?
    + Save your work and close `PS02_lastname_firstname.R`.
    + Restart R: RStudio menu bar -> Session -> Restart R. This "reboots R" by deleting all previously saved data frames and shuts down all loaded packages.
    + Go to the Files panel of RStudio and re-open `PS02_lastname_firstname.R`.
    + Run all your code as described in [Lec4](#Lec04) and make sure that you can replicate the scatterplot.
* **Submission**: "Download" this file on to your compter by going to RStudio -> Files panel -> More -> Export. Then submit this on [Moodle](https://moodle.smith.edu/course/view.php?id=29919){target="_blank"}. 
* See [syllabus](syllabus.html#evaluation-expectations) for expectations on such submissions.


***



# Lec 4 {#Lec04}

## Announcements

* **Extra office hours today 3:30-5pm in McConnell 215**
* For those of you with interests in Biology: Reed College's Prof Derek Applewhite ["The Spatial and Temporal Regulation of Non-muscle Myosin II Contractility"](https://twitter.com/rudeboybert/status/1040272556991959041){target="_blank"} talk on Monday afternoon.
* Added note about when to do DataCamp courses to [syllabus](syllabus.html#evaluation-expectations): *You do not need to complete any DataCamp courses in preparation for future lectures; they will always be explicitly assigned*.
* Solutions to previous lecture's learning checks will be posted directly underneith question. Ex: Look at [LC2.1 Solutions](https://moderndive.netlify.com/2-getting-started.html#exploredataframes){target="_blank"} I just posted.

## Today's Topics/Activities       

### 1. Chalk Talk

The Grammar of Graphics: the theoretical underpinnings of statistical graphics

### 2. In-class exercise: R code scratchpads

**Question**: Should I be copying/pasting/tweeking code directly in the console window?  
**Answer**: You can, but it makes saving work difficult. Instead, create a "scratchpad":

1. Create a new `.R` script: In RStudio Menu Bar -> File -> New File -> R Script. 
1. Save this as `scratchpad.R`
1. Copy/paste/tweak any code in your scratchpad, not in console window. For example, for this exercise write: `1+1`
1. To "run" code in the console (in other words tell R to "do this"), you can do one of the following:
    1. Copy it from scratchpad, then paste it in console, then hit enter.
    1. Highlight the code you want to run, then click on "Run"
    1. Highlight the code you want to run, then press control+enter on Windows/Unix/Chromebook or âŒ˜+enter on macOS.

### 3. In-class exercise

As marked in the Schedule at the top of this page, read ModernDive 3 - 3.3.1 (start of Chapter 3 to the end of 3.3.1).

* Do not ignore the "Needed Packages" section at the beginning. Recall:
    + The phone vs app analogy described in ModernDive 2.3.
    + If you are using RStudio Server in your browser, these packages come pre-installed.
    + If you are using RStudio Desktop installed on your computer, you'll have to ensure these packages are installed.
* Please skip the "Introduction to the Tidyverse" DataCamp course mentioned at the beginning of Chapter 3 for now.
* "Learning checks": These are practice problems that you do not need to submit. Should you write your answers down? If you feel like you would benefit, then yes! I will post solutions to the learning checks before the next lecture!





***



# Lec 3

* Go over previous Slack `#general_announcements`
* If you haven't already, **please** complete the [Intro Survey](https://docs.google.com/forms/d/e/1FAIpQLSdTI6UM9OlYygbZQU_gQPtQPGplFIXzmE_YCMPT_1bSkDd3Zw/viewform){target="_blank"} from Lec 1.
* Syllabus discussion:
    + Added full topic schedule
    + Added office hours
    + Added *expectations* to following sections: Basic Course Information, Topic Schedule and Readings, Evaluation, Accommodations, Code of Conduct

## Today's Topics/Activities       
        
1. Go over ModernDive Chapter 2. Note:
    + You can skip all videos and linked DataCamp courses.
    + "Learning checks": These are practice problems that you do not need to submit. Should you write your answers down? If you feel like you would benefit, then yes! I will post solutions to the learning checks before the next lecture!
1. Start Problem set 1 below. I will discuss the DataCamp interface at 11:55am.

## Getting help

A big part of learning data science tools is learning how to get help effectively. For example, in this course:

**In class**:

1. Ask yourself "Is this something I can Google?" Learning to use Google effectively is an important tool in a data scientist's toolbox.
1. Ask the people sitting next to you. 
1. Raise your hand to ask the data assistant or myself.

**Outside of class**:

1. Ask yourself "Is this something I can Google?" Learning to use Google effectively is an important tool in a data scientist's toolbox.
1. Ask yourself "Are there people I work with in class that I can Slack?"
1. If you all don't know, post a question on Slack in the `#r_questions` channel.
1. Visit the Spinelli Center for tutoring Sunday-Thursday 7-9pm (see [syllabus](syllabus.html#basicinfo) for more info).



***



# Problem set 1 {#PS01}

*Assigned Wednesday 9/12, due Monday 9/17 at 9pm Eastern Time*

1. **DataCamp**
    * Complete the following chapters from the "Introduction to R" course, which you should see in the following [link](https://www.datacamp.com/enterprise/2018-09-sds192-intro-to-data-science/assignments){target="_blank"}:
        * Chapter 1: "Intro to basics"
        * Chapter 2: "Vectors"
        * Chapter 4: "Factors"
        * Chapter 5: "Data Frames"
    * See the [syllabus](syllabus.html#evaluation-expectations) for expectations on DataCamp assignments.
    * If you have already completed the "Intro to R" DataCamp course previously using a DataCamp account based on your Smith email, you do not need to re-do them; they will show up in my logs as completed.
1. **Administrative stuff**: To receive full credit for this portion simply ensure
    * On Slack:
        1. Your full name is listed: full name = how you would like to be addressed in class & last name.  
        1. You have added a profile picture with your face visible. This will help me learn your names.
        1. Hint: Start relying on Google! "How do I change my name and profile picture on Slack?"
        1. You are a member of the `#moderndive_typoes`, `#r_questions`, and `random` channels.
    * On DataCamp: Your full name is listed in your [profile](https://www.datacamp.com/profile/account_settings){target="_blank"}; the rest is optional.



***



# Lec 2

1. **Background** Based on n=61 responses so far:  
![alt text](static/images/background.png){ width=600px }
1. **Slack**
    + Click the hashtag in the menu bar to open the SDS 192 Slack team (feel free to use the Slack App if you have it installed). If you have an account yet, click [here](https://join.slack.com/t/2018-fall-sds-albert/shared_invite/enQtNDMzMzMzMTI2NDg2LTM2MmM5OGQ3ZjhjYjQ5MTI5ODk3OTk5YWU2OThjYzdkMWEyYTNjMWIyYTBjNWU1YTE5OTkxZWNkNGFhYjRmZmI){target="_blank"} to join.
    + Practice sending [formated messages](https://get.slack.help/hc/en-us/articles/202288908-Format-your-messages){target="_blank"} to a classmate.
1. **Getting started with data in R**
    + Click "R" in the menu bar above to open RStudio Server to use R in your web-browser.
    + Click on ModernDive above and read Chapter 2: Getting started with data.
        + You don't need to watch the videos for now
        + If you are using RStudio Server, you don't need to install packages. However, you will need to load them.
        + Learning checks: These are practice problems to reinforce your learning. You do not need to submit today's learning checks.
1. **DataCamp** discussion.


## TODO's

1. Make sure you've completed the [Lec 1 TODO's](#Lec1TODO)



***



# Lec 1

1. **Data viz**
    1. [Comparison](http://www.bbc.com/culture/story/20150720-the-london-underground-map-the-design-that-shaped-a-city){target="_blank"} of Beck's original (1933) and today's London Underground map.
    1. [Map](https://deskarati.com/2012/03/31/london-undergrounds-real-map/){target="_blank"} of actual routes London Underground lines follow.
1. **Data wrangling** Do the following...
    1. Login to [RStudio Server](http://rstudio.smith.edu/){target="_blank"}. If you can't, follow along with someone nearby and fill out the help Google Form below.
    1. In the "Console" window copy and paste `library(nycflights13)` and hit enter. Then copy and paste `View(flights)` and hit enter.
1. **Maps and spatial data**
    1. [ColorBrewer 2.0](http://colorbrewer2.org/){target="_blank"}: Color Advice for Maps.
    1. Interactive maps via the [leaflet JavaScript library](https://leafletjs.com/){target="_blank"}, which we'll interface with using the [`leaflet` R package](https://rstudio.github.io/leaflet/){target="_blank"}.
1. **Text data**
    1. Who wrote the New York Times anonymous opinion editorial ["I Am Part of the Resistance Inside the Trump Administration"](https://www.nytimes.com/2018/09/05/opinion/trump-white-house-anonymous-resistance.html){target="_blank"}? A [text analysis approach](http://varianceexplained.org/r/op-ed-text-analysis/){target="_blank"} to answering this question.

## TODO's {#Lec1TODO}

* **Make sure**:
    + You can login to RStudio Server (click R icon in menubar above).
    + You have created a [GitHub](https://github.com/){target="_blank"} account using your Smith email. While I highly encourage you to add a publicly-facing picture and your full name to your profile, this is not required.
    + You are part of the class Slack team (click hashtag icon in menubar above) and 
        1. Have added a profile picture
        1. Can see the ~~`#192_data_science`~~, `#moderndive_typoes`, and `random` channels
        1. Have turned on [email notifications](https://get.slack.help/hc/en-us/articles/201355156-Guide-to-Slack-notifications-#email-notifications){target="_blank"}
    + You have received an invitation email to DataCamp and are a member of the [group](https://www.datacamp.com/enterprise/2018-09-sds192-intro-to-data-science){target="_blank"}. Do not create an account separately on datacamp.com, but rather use the link in the email you received.
    + You've completed the [Intro Survey](https://docs.google.com/forms/d/e/1FAIpQLSdTI6UM9OlYygbZQU_gQPtQPGplFIXzmE_YCMPT_1bSkDd3Zw/viewform){target="_blank"}
* **Need help with any of the above?** ~~Fill out this [Google Form](https://docs.google.com/forms/d/e/1FAIpQLSehdLkV7PPj2_ghaHROdqb4fRCdJDv0ksDLoMw95WpPnfxzqQ/viewform){target="_blank"}~~ Slack me!
